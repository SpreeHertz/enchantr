<html>
  <head>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  </head>
  <body>
    <div class="container">
        <h1 class="enchant-heading">Enchantr</h1>
        <label for="dropdown">Items: </label>
        <select id="dropdown">
          <option value="" id="option-selectmenu">Select an option:</option>

          <option value="Helmet">Helmet</option>

          <option value="Chestplate">Chestplate</option>

          <option value="Leggings">Leggings</option>

          <optgroup label="Boots">
            <option value="Boots(Depth Strider)">Boots(Depth Strider)</option>
            <option value="Boots(Frost Walker)">Boots(Frost Walker)</option>
          </optgroup>

          <option value="Turtle Shell">Trutle Shell</option> 

          <option value="Elytra">Elytra</option>

          <option value="Shield">Shield</option>

          <optgroup label="Sword">
            <option value="Sword(w/o Knockback)">Sword(w/o Knockback)</option>
            <option value="Sword(w Knockback)">Sword(w Knockback)</option>
          </optgroup>

          <optgroup label="Pickaxe">
            <option value="Pickaxe(Fortune)">Pickaxe(Fortune)</option>
            <option value="Pickaxe(SilkTouch)">Pickaxe(SilkTouch)</option>
          </optgroup>

          <optgroup label="Axe">
            <option value="Axe(Fortune)">Axe(Fortune)</option>
            <option value="Axe(SilkTouch)">Axe(SilkTouch)</option>
          </optgroup>

          <optgroup label="Shovel">
            <option value="Shovel(Fortune)">Shovel(Fortune)</option>
            <option value="Shovel(Silktouch)">Shovel(SilkTouch)</option>
          </optgroup>

          <optgroup label="Hoe">
            <option value="Hoe(Fortune)">Hoe(Fortune)</option>
            <option value="Hoe(Silktouch)">Hoe(SilkTouch)</option>
          </optgroup>

          <optgroup label="Bow">
            <option value="Bow(Infinity)">Bow(Infinity)</option>
            <option value="Bow(Mending)">Bow(Mending)</option>
          </optgroup>

          <optgroup label="Crossbow">
            <option value="Crossbow(Multishot)">Crossbow(Multishot)</option>
            <option value="Crossbow(Piercing)">Crossbow(Piercing)</option>
          </optgroup>

          <optgroup label="Trident">
            <option value="Trident(Channeling)">Trident(Channeling)</option>
            <option value="Trident(Riptide)">Trident(Riptide)</option>
          </optgroup>

          <option value="Fishing rod">Fishing rod</option>

          <option value="Shears">Shears </option>

          <option value="Flint and Steel">Flint and Steel</option>

          <option value="Carrot on a Stick">Carrot on a Stick</option>

          <option value="Warped Fungus on a Stick">Warped Fungus on a Stick</option>

        </select>
    <div class="selected-container">
      <h2 class="selected-items-heading">Selected Items </h2>
      <ul id="selected-items"></ul>
    </div>  
      <div class="select-btn">
        <script>
          const itemEnchantments = {
            Helmet: ["Thorns 3","Respiration 3","Unbreaking 3","Protection 4","Mending","Aqua Affinity"],
            "Turtle Shell": ["Thorns 3","Respiration 3","Unbreaking 3","Protection 4","Mending","Aqua Affinity"],
            Chestplate: ["Thorns 3","Unbreaking 3","Mending","Protection 4"],
            Leggings: ["Thorns 3","Unbreaking 3","Mending","Protection 4","Swift Sneak 3"],
            "Boots(Depth Strider)": ["Thorns 3","Depth strider 3","Unbreaking 3","Protection 4","Mending","Feather Falling 4"],
            "Boots(Frost Walker)": ["Thorns 3","Frost Walker 3","Unbreaking 3","Protection 4","Mending","Feather Falling 4"],
            "Sword(w/o Knockback)": ["Sweeping Edge 3","Looting 3","Unbreaking 3","Sharpness 5","Mending","Fire Aspect 2"],
            "Sword(w Knockback)": ["Sweeping Edge 3","Looting 3","Unbreaking 3","Sharpness 5","Knockback 2","Fire Aspect 2","Mending"],
            "Pickaxe(Fortune)": ["Fortune 3","Unbreaking 3","Mending","Efficiency 5"],
            "Pickaxe(SilkTouch)": ["Efficiency 5","Unbreaking 3","Mending","Silk Touch"],
            "Axe(Fortune)": ["Fortune 3", "Efficiency 5", "Unbreaking 3","Sharpness 5","Mending"],
            "Axe(SilkTouch)": ["Efficiency 5","Sharpness 5","Unbreaking 3","Silk Touch","Mending"],
            "Shovel(Fortune)": ["Fortune 3","Unbreaking 3","Mending","Efficiency 5"],
            "Shovel(SilkTouch)": ["Efficiency 5","Unbreaking 3","Mending","Silk Touch"],
            "Hoe(Fortune)": ["Fortune 3","Unbreaking 3","Mending","Efficiency 5"],
            "Hoe(SilkTouch)": ["Efficiency 5","Unbreaking 3","Mending","Silk Touch"],
            "Bow(Infinity)": ["Power 5","Infinity","Unbreaking 3","Punch 2","Flame"],
            "Bow(Mending)": ["Power 5","Punch 2","Flame","Unbreaking 3","Mending"],
            "Crossbow(Multishot)": ["Quick Charge 3","Mending","Multishot","Unbreaking 3"],
            "Crossbow(Piercing)": ["Piercing 4","Unbreaking 3","Mending","Quick Charge 3"],
            "Fishing rod": ["Luck of the Sea 3", "Lure 3", "Unbreaking 3","Mending"],
            Elytra: ["Unbreaking 3", "Mending"],
            Shield: ["Unbreaking 3", "Mending"],
            Shears: ["Efficiency 5", "Unbreaking", "Mending"],
            "Trident(Channeling)": ["Impaling 5","Channeling","Unbreaking 3","Loyalty 3","Mending"],
            "Trident(Riptide)": ["Impaling 5","Loyalty 3","Mending","Unbreaking 3"],
            "Flint and Steel": ["Unbreaking","Mending"],
            "Carrot on a Stick":["Unbreaking 3","Mending"],
            "Warped Fungus on a Stick":["Unbreaking 3","Mending"]
          };

          const itemIcons = {
            Helmet: "assets/Helmet.webp",
            "Turtle Shell": "assets/Turtle Shell.webp",
            Chestplate: "assets/Chestplate.webp",
            Leggings: "assets/Leggings.webp",
            "Boots(Depth Strider)": "assets/Boots.webp",
            "Boots(Frost Walker)": "assets/Boots.webp",
            "Sword(w/o Knockback)": "assets/Sword.webp",
            "Sword(w Knockback)": "assets/Sword.webp",
            "Pickaxe(Fortune)": "assets/Pickaxe.webp",
            "Pickaxe(Silk Touch)": "assets/Pickaxe.webp",
            "Axe(Fortune)": "assets/Axe.webp",
            "Axe(Silk Touch)": "assets/Axe.webp",
            "Shovel(Fortune)": "assets/Shovel.webp",
            "Shovel(Silk Touch)": "assets/Shovels.webp",
            "Hoe(Fortune)": "assets/Hoe.webp",
            "Hoe(Silk Touch)": "assets/Hoe.webp",
            "Bow(Infinity)": "assets/Bow.webp",
            "Bow(Mending)": "assets/Bow.webp",
            "Crossbow(Multishot)": "assets/Crossbow.webp",
            "Crossbow(Piercing)": "assets/Crossbow.webp",
            "Fishing rod": "assets/Fishing rod.webp",
            Elytra: "assets/Elytra.webp",
            Shield: "assets/Sheild.webp",
            Shears: "assets/Shears.webp",
            "Trident(Channeling)": "assets/Trident.webp",
            "Trident(Riptide)": "assets/Trident.webp",
            "Flint and Steel": "assets/Flint and Steel.png",
            "Carrot on a Stick": "assets/Carrot on a Stick.webp",
            "Warped Fungus on a Stick": "assets/Warped Fungus on a Stick.webp"

          }

          function removeItem(event) {
            const listItem = event.target.closest("li");
            if (listItem) {
              listItem.remove();
            }
          }

          function handleSelection() {
            const selectedOption = document.getElementById("dropdown").value;
            const selectedItemsList = document.getElementById("selected-items");

            if (selectedOption) {
              console.log("Selected option: ", selectedOption);

              const existingItem = Array.from(selectedItemsList.children).find(
                (item) => item.dataset.option === selectedOption
              );

              if (existingItem) {

                const enchantmentsContainer = existingItem.querySelector(".enchantments-container");
                const enchantmentCheckboxes = enchantmentsContainer.querySelectorAll("input[type='checkbox']");

                const itemImage = document.createElement("img");
                itemImage.src = itemIcons[selectedOption];
                itemImage.alt = selectedOption;
                itemImage.className = "item-image";
                listItem.insertBefore(itemImage, listItem.firstChild);

                enchantmentCheckboxes.forEach((checkbox) => {
                  checkbox.checked = false;
                  checkbox.disabled = true;
                });

                const quantityInput = existingItem.querySelector("input");
                const currentQuantity = parseInt(quantityInput.value) || 0;
                quantityInput.value = currentQuantity + 1;

                const listItem = existingItem;
                const removeButton = document.createElement("span");
                removeButton.innerHTML = "&#10060;"; // "X" symbol
                removeButton.classList.add("remove-item-btn");
                removeButton.addEventListener("click", removeItem);

                const itemInfoContainer = listItem.querySelector(".item-info");
                itemInfoContainer.appendChild(removeButton);

              } else {

                const listItem = document.createElement("li");
                listItem.dataset.option = selectedOption;

                const enchantments = itemEnchantments[selectedOption];
                const enchantmentsString = enchantments ? enchantments.join(", ") : "None";

                const itemIconPath = itemIcons[selectedOption];
                const itemIcon = document.createElement("img");
                itemIcon.src = itemIconPath;
                itemIcon.alt = selectedOption;
                itemIcon.classList.add("item-icon");


                listItem.innerHTML = `
                  <div class="item-info">
                    <img src="${itemIconPath}" alt="${selectedOption}" class="item-icon">
                    <span>${selectedOption}</span>
                  </div>
                  <div class="enchantments-container">
                    ${enchantments
                      ? enchantments
                          .map(
                            (enchantment) => `
                              <label>
                                <input type="checkbox" name="${selectedOption}-enchantment" value="${enchantment}" checked>
                                ${enchantment}
                              </label>
                            `
                          )
                          .join("")
                      : ""}
                  </div>
                  <input type="number" min="0" value="1">
                `;

                selectedItemsList.appendChild(listItem);
              }
            } else {
              console.log("No item selected");
            }
          }

          document.getElementById("dropdown").addEventListener("change", handleSelection);

        </script>
    </div>
    </div>

    

  </body>

</html>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
:root {
  --primary-text: #c6c6c6;
  --secondary-text: #202020;
}

body {
  background: linear-gradient(to left bottom, rgb(55, 65, 81), rgb(17, 24, 39), rgb(0, 0, 0));
  color: white;
}

h1, h2 {
  color: #202020;
}

* {
  font-family: "Inter", sans-serif;
}

.enchant-heading {
  text-align: center;
  color: var(--primary-text);
  background: linear-gradient(
        to right,
        #d61c7d 20%,
        #61327d 30%,
        #0190cd 70%,
        #764ada 80%
    );
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-fill-color: transparent;
    background-size: 500% auto;
    animation: textShine 5s ease-in-out infinite alternate;
}

@keyframes textShine {
    0% {
        background-position: 0% 50%;
    }
    100% {
        background-position: 100% 50%;
    }
}


.container {
  display: flex;
  justify-content: center;
  flex-direction: column;
}

.selected-items-heading {
  color: var(--primary-text);
}

#dropdown {
  padding-left: 1.25rem; /* 20px */
  padding-right: 1.25rem; /* 20px */
  padding-top: 0.625rem; /* 10px */
  padding-bottom: 0.625rem; /* 10px */  
  background-color: #343e4e;
  width: 20%;
  color: white;
  border-style: none;
  border-radius: 0.25rem; /* 4px */
}

#option-select-menu {
  padding-left: 1.25rem; /* 20px */
  padding-right: 1.25rem; /* 20px */
  padding-top: 0.625rem; /* 10px */
  padding-bottom: 0.625rem; /* 10px */  
}


.selected-container input[type="number"]{
  width: 2.75rem;
  margin-left: 7px;
  border-style: none;
  border-radius: 0.25rem; /* 4px */

}

.item-icon {
  width: 24px;
  height: 24px;
  margin-right: 4px;
  margin-left: 4.5px;
}

.item-info {
  display: flex;
  align-items: center;
}

.enchantments-container {
  margin-left: 10px;
}

.enchantments-container label {
  display: block;
  margin-bottom: 5px;
}

input[type="number"] {
  width: 50px;
  padding: 5px;
}

input[type="checkbox"] {
  margin-right: 5px;
}

#selected-items {
  list-style-type: none; /* Remove the bullet point */
  padding: 0;
  margin: 0;
}

.remove-item-btn {
  cursor: pointer;
  margin-left: 10px;
}

</style>
